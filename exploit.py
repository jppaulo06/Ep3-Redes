#! /usr/bin/env nix-shell
#! nix-shell -i python3 -p python310 python310Packages.requests

import requests
import threading

REQUEST_COUNT = 4
API_COUNT = 32

def request(num):
    print('Processing ' + str(num))
    url = 'http://127.0.0.1:3000' + '/++api++' * API_COUNT
    requests.get(url)


if __name__ == '__main__':
    for i in range(REQUEST_COUNT):
        threading.Thread(target=request, args=(i,)).start()
